{% extends "layout.html" %}

{% block title %}
Compare your runs
{% endblock %}

{% block main %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<div class="chart">
    <h1>Comparison with marathoners' data</h1>
    <div class="checkcompare">
        <div class="form-check">
            <input class="form-check-input" type="radio" name="flexRadioCompare" id="flexRadioDistance" value="Distance" required checked>
            <label class="form-check-label" for="flexRadioDefault1">
                Compare your distance 
            </label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="radio" name="flexRadioCompare" id="flexRadioSpeed" value="Speed" required>
            <label class="form-check-label" for="flexRadioDefault2">
                Compare your speed 
            </label>
        </div>
    </div>  
    <div class="myChart" style="position: relative; height:70vh; width:90vw">
        <canvas id="myChartId"></canvas>
    </div>  
</div>

<script>
    var xyValues = [
        { x: 50, y: 7 },
        { x: 60, y: 8 },
        { x: 70, y: 8 },
        { x: 80, y: 9 },
        { x: 90, y: 9 }
    ];

    let chartHeader = "Distance";

    let xAxisNodes = document.getElementsByName("flexRadioCompare");

    for (let i = 0; i < xAxisNodes.length; i++) {
        let item = xAxisNodes[i];
        chartHeader = item.value;
        break;
    };

    new Chart("myChartId", {
        type: "scatter",
        data: {
            datasets: [{
                label: chartHeader,
                pointRadius: 4,
                pointBackgroundColor: "rgb(0,0,255)",
                data: xyValues
            }]
        },
        options: {
            legend: { display: false },
            responsive: true,
            maintainAspectRatio: false
        }
    });
</script>
{% endblock %}